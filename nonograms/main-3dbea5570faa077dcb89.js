(()=>{"use strict";var t={};function e(t,e,i){const a=document.createElement(t);return e&&(a.className=e),i&&a.append(i),a}t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var i=t.g.document;if(!e&&i&&(i.currentScript&&(e=i.currentScript.src),!e)){var a=i.getElementsByTagName("script");if(a.length)for(var s=a.length-1;s>-1&&!e;)e=a[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const i={};var a,s,n=Object.defineProperty,o=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)},h=(t,e,i)=>(o(t,e,"read from private field"),i?i.call(t):e.get(t)),r=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},c=(t,e,i,a)=>(o(t,e,"write to private field"),a?a.call(t,i):e.set(t,i),i);class l{constructor(){var t,o,h;t=this,o="timerElement",h=e("span",i.timer,"00:00"),((t,e,i)=>{e in t?n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i})(t,"symbol"!=typeof o?o+"":o,h),r(this,a,0),r(this,s,void 0)}update(){const t=Math.floor(Math.floor(h(this,a))%60).toString(),e=Math.floor(h(this,a)/60).toString();this.timerElement.replaceChildren(`${e.padStart(2,"0")}:${t.padStart(2,"0")}`)}start(){c(this,s,setInterval((()=>{c(this,a,h(this,a)+1),this.update()}),1e3))}stop(){clearInterval(h(this,s))}reset(){c(this,a,0)}getTime(){return h(this,a)}setTime(t){c(this,a,t)}}function d(t,i){const a=e("button","control-button",t);return a.onclick=i,a}a=new WeakMap,s=new WeakMap;const p=[{id:1,name:"Baby carriage",width:5,height:5,difficulty:"easy",scheme:[[!1,!0,!0,!1,!1],[!0,!0,!1,!1,!0],[!0,!0,!0,!0,!1],[!1,!0,!0,!1,!1],[!0,!1,!1,!0,!1]]},{id:2,name:"Rabbit",width:5,height:5,difficulty:"easy",scheme:[[!1,!0,!0,!1,!1],[!1,!1,!1,!0,!0],[!1,!0,!0,!0,!0],[!0,!0,!0,!0,!1],[!1,!0,!0,!0,!0]]},{id:3,name:"Camel",width:5,height:5,difficulty:"easy",scheme:[[!1,!1,!1,!0,!0],[!0,!0,!1,!0,!1],[!0,!0,!0,!0,!1],[!0,!1,!0,!1,!1],[!0,!1,!0,!1,!1]]},{id:4,name:"Clock",width:5,height:5,difficulty:"easy",scheme:[[!1,!0,!0,!0,!1],[!0,!1,!0,!1,!0],[!0,!1,!0,!0,!0],[!0,!1,!1,!1,!0],[!1,!0,!0,!0,!1]]},{id:5,name:"Heart",width:5,height:5,difficulty:"easy",scheme:[[!1,!0,!1,!0,!1],[!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0],[!1,!0,!0,!0,!1],[!1,!1,!0,!1,!1]]},{id:6,name:"Deer",width:10,height:10,difficulty:"medium",scheme:[[!1,!1,!1,!0,!1,!0,!1,!1,!0,!1],[!1,!1,!1,!1,!0,!0,!1,!0,!1,!1],[!1,!1,!1,!1,!1,!0,!0,!0,!0,!1],[!1,!0,!1,!1,!1,!1,!0,!1,!0,!0],[!0,!0,!1,!1,!1,!1,!0,!0,!1,!1],[!1,!1,!0,!0,!0,!0,!1,!1,!0,!1],[!1,!0,!1,!1,!1,!1,!1,!0,!0,!1],[!1,!0,!0,!1,!0,!0,!0,!1,!1,!0],[!0,!0,!1,!0,!1,!1,!0,!1,!0,!0],[!0,!1,!1,!0,!1,!1,!0,!1,!1,!1]]},{id:7,name:"Moon",width:10,height:10,difficulty:"easy",scheme:[[!1,!1,!1,!0,!0,!0,!0,!1,!1,!1],[!1,!0,!0,!0,!1,!1,!1,!1,!0,!1],[!1,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!1,!1,!1,!1,!1,!1,!0,!1],[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!0,!1,!1,!1,!1,!1,!1,!0],[!1,!0,!0,!0,!1,!1,!1,!1,!0,!1],[!1,!0,!0,!0,!0,!0,!0,!0,!0,!1],[!1,!1,!1,!0,!0,!0,!0,!1,!1,!1]]},{id:8,name:"Bunny",width:10,height:10,difficulty:"easy",scheme:[[!0,!0,!0,!0,!1,!1,!1,!1,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!1,!1,!1,!0,!0,!0,!0,!0,!0],[!1,!0,!1,!1,!0,!0,!0,!0,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!1,!1,!1,!1,!1,!1,!0,!0],[!0,!0,!1,!1,!1,!1,!1,!1,!1,!0],[!0,!0,!1,!0,!1,!1,!1,!1,!1,!1],[!0,!0,!0,!0,!0,!1,!1,!1,!1,!0],[!0,!0,!0,!1,!1,!1,!1,!1,!0,!0]]},{id:9,name:"Duck",width:10,height:10,difficulty:"medium",scheme:[[!1,!1,!1,!0,!0,!0,!1,!1,!1,!1],[!1,!1,!0,!1,!1,!1,!0,!1,!1,!1],[!1,!1,!0,!1,!0,!1,!0,!1,!1,!1],[!1,!0,!0,!0,!1,!1,!0,!1,!1,!1],[!0,!0,!0,!0,!0,!1,!0,!1,!1,!1],[!1,!1,!1,!0,!1,!0,!1,!1,!1,!0],[!1,!1,!0,!1,!1,!1,!0,!0,!0,!0],[!1,!0,!1,!1,!0,!1,!1,!1,!1,!0],[!1,!0,!1,!1,!0,!0,!1,!1,!0,!0],[!1,!0,!0,!1,!1,!0,!0,!0,!1,!0]]},{id:10,name:"Parrot",width:10,height:10,difficulty:"hard",scheme:[[!1,!1,!1,!1,!1,!1,!1,!1,!0,!1],[!1,!1,!1,!1,!1,!1,!1,!0,!0,!1],[!1,!1,!1,!1,!1,!0,!0,!0,!1,!0],[!1,!1,!0,!0,!0,!0,!0,!1,!0,!0],[!1,!0,!0,!1,!1,!1,!0,!0,!0,!1],[!0,!0,!1,!0,!1,!1,!0,!1,!1,!1],[!0,!0,!0,!1,!1,!1,!0,!1,!1,!1],[!0,!1,!1,!0,!1,!1,!0,!1,!1,!1],[!1,!1,!1,!0,!1,!1,!0,!0,!1,!1],[!1,!1,!1,!0,!1,!1,!1,!0,!0,!1]]},{id:11,name:"Cat",width:15,height:15,difficulty:"medium",scheme:[[!0,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1],[!0,!1,!1,!1,!1,!0,!0,!0,!0,!1,!1,!1,!0,!0,!1],[!0,!0,!1,!1,!0,!0,!0,!0,!0,!1,!1,!0,!1,!1,!1],[!1,!0,!0,!1,!0,!0,!0,!0,!0,!1,!1,!0,!0,!1,!1],[!0,!1,!0,!0,!1,!0,!0,!0,!0,!1,!1,!1,!0,!0,!1],[!0,!1,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1,!0,!1],[!0,!0,!1,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1,!0,!0],[!1,!0,!0,!1,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!0],[!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!0],[!0,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1],[!0,!0,!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!1],[!0,!0,!0,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1]]},{id:12,name:"Swan",width:15,height:15,difficulty:"hard",scheme:[[!1,!1,!1,!0,!0,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!0,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!0,!0,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!0,!1,!0,!0,!1,!0,!1,!1,!1,!1,!1,!1],[!1,!0,!0,!1,!1,!1,!0,!1,!0,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!0,!1,!0,!0,!1,!1,!0,!0,!0,!0,!0,!1],[!1,!1,!0,!1,!0,!0,!1,!0,!0,!0,!1,!1,!1,!0,!0],[!1,!0,!0,!1,!0,!1,!0,!0,!1,!1,!1,!0,!0,!0,!1],[!0,!0,!1,!1,!0,!0,!0,!1,!1,!0,!0,!1,!0,!1,!1],[!0,!0,!1,!1,!1,!1,!1,!0,!0,!1,!1,!0,!0,!0,!1],[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!1,!1],[!1,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!1],[!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1]]},{id:13,name:"Ram",width:15,height:15,difficulty:"medium",scheme:[[!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1],[!1,!1,!0,!0,!1,!1,!1,!1,!0,!0,!0,!0,!0,!1,!1],[!1,!1,!0,!1,!0,!0,!0,!0,!1,!0,!1,!1,!0,!0,!1],[!1,!1,!0,!1,!0,!1,!1,!0,!0,!1,!1,!0,!1,!1,!0],[!1,!1,!0,!0,!1,!0,!1,!0,!1,!0,!1,!1,!1,!1,!0],[!1,!1,!1,!0,!0,!0,!1,!1,!0,!0,!1,!0,!0,!0,!1],[!1,!0,!1,!1,!1,!1,!1,!0,!0,!1,!1,!1,!0,!1,!1],[!0,!1,!0,!0,!0,!0,!0,!1,!0,!1,!1,!1,!0,!0,!1],[!0,!1,!0,!1,!1,!1,!0,!0,!1,!0,!1,!1,!1,!0,!1],[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1],[!1,!0,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!0,!0,!1],[!1,!1,!0,!1,!0,!0,!0,!1,!0,!1,!1,!0,!0,!0,!1],[!1,!0,!1,!0,!0,!1,!0,!0,!0,!0,!1,!0,!0,!1,!1],[!1,!0,!1,!0,!1,!1,!1,!1,!1,!0,!0,!1,!0,!1,!1],[!1,!1,!0,!0,!1,!0,!0,!0,!1,!1,!0,!0,!0,!1,!0]]},{id:14,name:"Cow",width:15,height:15,difficulty:"medium",scheme:[[!1,!1,!1,!0,!0,!1,!1,!1,!1,!0,!0,!1,!1,!1,!1],[!1,!1,!0,!0,!1,!1,!1,!1,!1,!1,!0,!0,!1,!1,!1],[!1,!1,!0,!0,!0,!1,!1,!1,!1,!0,!0,!0,!1,!1,!1],[!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1],[!0,!0,!0,!0,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!1],[!0,!0,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!1,!1],[!1,!0,!0,!1,!1,!0,!1,!0,!1,!0,!0,!0,!1,!1,!1],[!1,!1,!0,!0,!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0],[!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!0,!1,!0,!0,!0],[!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!0,!1,!0,!0,!0],[!1,!1,!1,!0,!1,!0,!1,!1,!0,!1,!0,!1,!0,!0,!0],[!1,!1,!1,!0,!0,!1,!1,!1,!1,!0,!0,!1,!1,!0,!0],[!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]]},{id:15,name:"Rose",width:15,height:15,difficulty:"hard",scheme:[[!1,!1,!1,!1,!0,!0,!0,!1,!0,!0,!1,!1,!1,!1,!1],[!1,!1,!1,!0,!1,!1,!0,!0,!1,!0,!0,!1,!1,!1,!1],[!1,!1,!0,!1,!0,!0,!1,!1,!0,!1,!0,!0,!1,!1,!1],[!1,!1,!0,!1,!1,!1,!1,!0,!0,!1,!1,!0,!1,!1,!1],[!0,!1,!0,!0,!1,!1,!0,!0,!0,!1,!0,!1,!1,!1,!1],[!0,!0,!1,!0,!0,!0,!0,!0,!1,!1,!0,!0,!1,!1,!1],[!0,!0,!0,!1,!0,!0,!0,!1,!1,!0,!0,!0,!1,!1,!1],[!1,!0,!0,!0,!1,!1,!1,!0,!1,!0,!0,!1,!1,!1,!0],[!1,!1,!1,!1,!0,!0,!0,!0,!1,!0,!0,!1,!0,!0,!0],[!1,!1,!0,!0,!0,!0,!0,!1,!0,!0,!1,!0,!0,!0,!0],[!1,!1,!1,!0,!0,!0,!1,!0,!1,!1,!0,!0,!0,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!0,!0,!0,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!1,!1,!1,!1]]}],u={scoreTable:"nLmbPF_ymajAL_kSo4O9",headerRow:"kwA7jq9j6EjD1RJY_2xA",tableTH:"p3LQ61fThbPwkGWyHvaQ",tableTD:"Pl8JJVGkNvOGScWrG0MF"};function f(t,i,a){return console.log(a),a.map((a=>e(t,i,a)))}const m=t.p+"happy-pop-1-185286-9cd923eb82cadb78fb3b.mp3",w=t.p+"happy-pop-3-185288-a2690b14dd9741896e9c.mp3",g=t.p+"click-button-140881-b070217cc3ec9826fd89.mp3",v=t.p+"win-sound-d97faf05c26b6ff8aa03.mp3";var b,k,S,y=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)},E=(t,e,i)=>(y(t,e,"read from private field"),i?i.call(t):e.get(t)),W=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)};class C{static toggleMuted(){var t,e,i;t=this,e=b,i=!E(this,b),y(t,e,"write to private field"),e.set(t,i)}static getIsMuted(){return E(this,b)}static playSound(t){if(!E(this,b)){const a=(this,e=k,i=S,y(this,e,"access private method"),i).call(this,t),s=new Audio(a);s.volume=.4,s.play()}var e,i}}b=new WeakMap,k=new WeakSet,S=function(t){return{blackClick:w,whiteClick:m,crossClick:g,win:v}[t]},W(C,k),W(C,b,!1);class M{constructor(t){this.container=e("dialog","ajWwsHR94cbENsGw1MWt"),this.contentWrapper=e("div","jjdmMpY7V3JD86phOnaw"),this.container.append(this.contentWrapper),t&&this.appendElements(t),this.container.addEventListener("click",(t=>{t.target===t.currentTarget&&t.currentTarget.close()}))}init(){document.body.append(this.container)}appendElements(t){this.contentWrapper.append(...t)}clean(){this.container.replaceChildren(),console.log("clean")}}const T={clue:"v8cWgl_fywNE7CfrWmgp",left:"zAA4EZ2O6oTkWbzP4scJ",container:"C9_jFBYVvtEUuBlwviiC",cluesWrapper:"lIfMvRJWvjBS_98sMwWn",top:"UujemaXKUY9K8Q_mGLGx"};var L=Object.defineProperty;class ${constructor(t,i){var a,s,n;a=this,s="container",n=e("div",T.container),((t,e,i)=>{e in t?L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i})(a,"symbol"!=typeof s?s+"":s,n),this.container.classList.add(T[i]);for(let a=0;a<t.length;a+=1){const s=e("div",`${T[i]} ${T.cluesWrapper}`);for(let i=0;i<t[a].length;i+=1){const n=e("div",T.clue,t[a][i]);s.append(n)}this.container.append(s)}}}const j={cell:"rQYg1FRUbLeNrKzjvr31",white:"ghNTMykpS1hfevIqJxFT",black:"nNLvindpVErIaMM2hOUg",cross:"jG3y1KIZtpgwEHBr_CHx"};var N,O,D,F,P,B,I,J=Object.defineProperty,R=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)},G=(t,e,i)=>(R(t,e,"read from private field"),i?i.call(t):e.get(t)),H=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},K=(t,e,i,a)=>(R(t,e,"write to private field"),a?a.call(t,i):e.set(t,i),i),_=(t,e,i)=>(R(t,e,"access private method"),i);class x{constructor(t,i="white"){var a,s,n;H(this,O),H(this,F),H(this,B),a=this,s="cellEl",n=e("div"),((t,e,i)=>{e in t?J(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i})(a,"symbol"!=typeof s?s+"":s,n),H(this,N,void 0),K(this,N,i),_(this,O,D).call(this),this.cellEl.addEventListener("click",(()=>{_(this,F,P).call(this),t(G(this,N))})),this.cellEl.addEventListener("contextmenu",(e=>{e.preventDefault(),"black"===G(this,N)?(_(this,B,I).call(this),t(G(this,N))):"white"===G(this,N)?_(this,B,I).call(this):(K(this,N,"white"),_(this,O,D).call(this),C.playSound("whiteClick"))}))}getState(){return G(this,N)}setState(t){"white"!==t&&"black"!==t&&"cross"!==t||(K(this,N,t),_(this,O,D).call(this))}}N=new WeakMap,O=new WeakSet,D=function(){this.cellEl.className=`${j[G(this,N)]} ${j.cell}`},F=new WeakSet,P=function(){"black"!==G(this,N)?(K(this,N,"black"),C.playSound("blackClick")):(K(this,N,"white"),C.playSound("whiteClick")),_(this,O,D).call(this)},B=new WeakSet,I=function(){K(this,N,"cross"),_(this,O,D).call(this),C.playSound("crossClick")};const z="imXBY429D00i0tuJfKdC";var A,Q,Y,V,Z,q,U,X,tt,et,it=Object.defineProperty,at=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)},st=(t,e,i)=>(at(t,e,"read from private field"),i?i.call(t):e.get(t)),nt=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},ot=(t,e,i,a)=>(at(t,e,"write to private field"),a?a.call(t,i):e.set(t,i),i),ht=(t,e,i)=>(at(t,e,"access private method"),i);class rt{constructor(t,i,a,s){var n,o,h;nt(this,Z),nt(this,U),nt(this,tt),n=this,o="container",h=e("div","kqL2C4xefSoZX97z2xq9"),((t,e,i)=>{e in t?it(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i})(n,"symbol"!=typeof o?o+"":o,h),nt(this,A,0),nt(this,Q,void 0),nt(this,Y,void 0),nt(this,V,[]),ot(this,Q,t),ot(this,Y,i);let r=!1;s?(this.savedScheme=s,ht(this,U,X).call(this,t,this.savedScheme)):ht(this,Z,q).call(this,st(this,Q)),this.container.addEventListener("click",(()=>{r||(a(),r=!0)}))}showSolution(){st(this,Q).forEach(((t,e)=>{t.forEach(((t,i)=>{const a=t?"black":"white";st(this,V)[e][i].setState(a)}))}))}clean(){this.container.replaceChildren(),ot(this,A,0),ht(this,Z,q).call(this,st(this,Q),st(this,Y))}blockClick(){this.container.classList.add("cCZD1_Lzar4rcl9K6un9")}getFieldState(){const t=[];return st(this,V).forEach((e=>{const i=e.map((t=>t.getState()));t.push(i)})),t}}A=new WeakMap,Q=new WeakMap,Y=new WeakMap,V=new WeakMap,Z=new WeakSet,q=function(t){ot(this,V,[]),t.forEach((t=>{const i=[];st(this,V).push(i);const a=e("div",z);this.container.append(a),t.forEach((t=>{t||ot(this,A,st(this,A)+1);const e=ht(this,tt,et).call(this,t);i.push(e),a.append(e.cellEl)}))}))},U=new WeakSet,X=function(t,i){ot(this,V,[]),t.forEach(((t,a)=>{const s=[];st(this,V).push(s);const n=e("div",z);this.container.append(n),t.forEach(((t,e)=>{const o=i[a][e];(t&&"black"===o||!t&&"black"!==o)&&ot(this,A,st(this,A)+1);const h=ht(this,tt,et).call(this,t,o);s.push(h),n.append(h.cellEl)}))}))},tt=new WeakSet,et=function(t,e){return new x((e=>{ot(this,A,t&&"black"===e||!t&&"black"!==e?st(this,A)+1:st(this,A)-1),st(this,Y).call(this,st(this,A))}),e)};var ct,lt=Object.defineProperty,dt=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)},pt=(t,e,i)=>(dt(t,e,"read from private field"),i?i.call(t):e.get(t));class ut{constructor(t,i,a,s=null){((t,e,i)=>{((t,e,i)=>{e in t?lt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i})(t,"symbol"!=typeof e?e+"":e,i)})(this,"container",e("div","DOPCQPdQKBDOACbPeDfd")),((t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,void 0)})(this,ct);const n=function(t){const e=[],i=[];for(let a=0;a<t.length;a+=1){let s=0;const n=[];let o=0;const h=[];for(let e=0;e<t[0].length;e+=1)t[a][e]?(s+=1,e===t[0].length-1&&n.push(s)):0!==s&&(n.push(s),s=0),t[e][a]?(o+=1,e===t[0].length-1&&h.push(o)):0!==o&&(h.push(o),o=0);i.push(n),e.push(h)}return{top:e,left:i}}(t),o=new $(n.top,"top"),h=new $(n.left,"left");var r,c,l;r=this,c=ct,l=new rt(t,i,a,s),dt(r,c,"write to private field"),c.set(r,l),this.container.append(o.container,h.container,pt(this,ct).container)}resetField(){pt(this,ct).clean()}blockField(){pt(this,ct).blockClick()}getFieldState(){return pt(this,ct).getFieldState()}showSolution(){pt(this,ct).showSolution(),this.blockField()}}ct=new WeakMap;const ft={levelHeading:"t7kM3C_2reK9ZkwUfTQr",dialogHeading:"ZQOFH7AzxTpK67Vfus_r",scoreHeading:"SIrdXyXCmQXE4yBJPso6",levelList:"SDmMvCEJxgqvBorcYWcb",levelItem:"qMFk4RFRqMhvS9cdls3_",button:"a5ZqL0Ls1lc22D2jaVCL",soundButton:"_e9K5M2cZAzmzPfLkrDs",themeButton:"NubjD91ALenwRBtb55O4",soundOff:"LNQdR6gGk2EiTN4q2VQy",menuPanelContainer:"viutKB6VztCuhYnP5JZX",disabled:"CzUB4VfOuFoXfPzkQhH9",controlsContainer:"o8dmpSsZlpr1stoDFUVD",scoreLabel:"zYLuKJEYfxNvFeMmfKjJ"};var mt,wt,gt,vt,bt,kt,St,yt,Et,Wt,Ct,Mt,Tt,Lt,$t,jt,Nt,Ot,Dt,Ft,Pt,Bt,It,Jt,Rt,Gt,Ht,Kt=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)},_t=(t,e,i)=>(Kt(t,e,"read from private field"),i?i.call(t):e.get(t)),xt=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},zt=(t,e,i,a)=>(Kt(t,e,"write to private field"),a?a.call(t,i):e.set(t,i),i),At=(t,e,i)=>(Kt(t,e,"access private method"),i);const Qt="MideliNonograms";mt=new WeakMap,wt=new WeakMap,gt=new WeakMap,vt=new WeakMap,bt=new WeakMap,kt=new WeakMap,St=new WeakMap,yt=new WeakMap,Et=new WeakMap,Wt=new WeakMap,Ct=new WeakMap,Mt=new WeakSet,Tt=function(){_t(this,bt).container.showModal(),C.playSound("win"),_t(this,kt).stop(),_t(this,yt).blockField(),At(this,Jt,Rt).call(this),_t(this,vt).replaceChildren(`Great! You have solved the nonogram in ${_t(this,kt).getTime()} seconds!`),At(this,Gt,Ht).call(this,_t(this,kt).getTime(),_t(this,Et))},Lt=new WeakSet,$t=function(t,e=null,i=0){zt(this,Et,t),zt(this,St,p[t-1]),_t(this,wt).replaceChildren(),_t(this,kt).stop(),_t(this,kt).setTime(i),_t(this,kt).update();const a=_t(this,St).width*_t(this,St).height;zt(this,yt,new ut(_t(this,St).scheme,(t=>{t>=a&&At(this,Mt,Tt).call(this)}),(()=>_t(this,kt).start()),e)),_t(this,wt).append(_t(this,yt).container),_t(this,gt).replaceChildren();const s=d("Reset game",(()=>_t(this,yt).resetField())),n=d("Save game",(()=>At(this,Bt,It).call(this))),o=d("Show solution",(()=>{_t(this,yt).showSolution(),_t(this,kt).stop(),At(this,Jt,Rt).call(this)}));_t(this,gt).append(s,n,o)},jt=new WeakSet,Nt=function(t,i){const a=e("h2",ft.levelHeading,"Choose a level"),s=e("ul",ft.levelList);p.forEach((a=>{const n=e("li",ft.levelItem),o=`${a.width} x ${a.height} ${a.name} (${a.difficulty})`,h=e("button",ft.button,o);s.append(n),n.append(h),h.addEventListener("click",(()=>{At(this,Lt,$t).call(this,a.id),t.container.close(),i.container.close()}))})),t.appendElements([a,s])},Ot=new WeakSet,Dt=function(){const t=new M,e=new M,i=new M,a=d("Random Game",(()=>{const i=function(t,e=0){return Math.floor(Math.random()*(t-e)+e)}(p.length);At(this,Lt,$t).call(this,i),e.container.close(),t.container.close()}));t.init();const s=d("MENU",(()=>t.container.showModal()));_t(this,mt).append(s);const n=d("New Game",(()=>{e.container.showModal()})),o=d("Continue game",(()=>{_t(this,Wt)&&(At(this,Lt,$t).call(this,..._t(this,Wt)),t.container.close())}));i.init(),At(this,Ft,Pt).call(this,i),i.container.showModal();const h=d("Score",(()=>{At(this,Ft,Pt).call(this,i),i.container.showModal(),t.container.close()}));t.appendElements([n,a,o,h]),At(this,jt,Nt).call(this,e,t),e.init()},Ft=new WeakSet,Pt=function(t){const i=[],a=e("h2",ft.scoreHeading,"Score");if(i.push(a),0===_t(this,Ct).length)i.push(e("p",ft.scoreLabel,"No results for now."));else{const t=_t(this,Ct).slice();console.log(_t(this,Ct)),t.sort(((t,e)=>t[0]-e[0])),console.log(t);const a=function(t){const i=e("table",u.scoreTable),a=e("tr",u.headerRow);a.append(...f("th",u.tableTH,["Time","Name","Difficulty"]));const s=t.map((t=>function(t){const i=e("tr",u.tableTR),a=t.slice(),s=a[0],n=Math.floor(Math.floor(s)%60).toString(),o=Math.floor(s/60).toString();return a[0]=`${o.padStart(2,"0")}:${n.padStart(2,"0")}`,a[0]=i.append(...f("td",u.tableTD,a)),i}(t)));return i.append(a,...s),console.log(i),i}(t);i.push(a)}t.container.replaceChildren(...i)},Bt=new WeakSet,It=function(){zt(this,Wt,[_t(this,Et),_t(this,yt).getFieldState(),_t(this,kt).getTime()])},Jt=new WeakSet,Rt=function(){Array.from(_t(this,gt).children).forEach((t=>t.classList.add(ft.disabled)))},Gt=new WeakSet,Ht=function(t,e){const i=[];i.push(t);const a=p[e-1];i.push(a.name),i.push(`${a.width}x${a.height} ${a.difficulty}`),_t(this,Ct).length>=5&&_t(this,Ct).shift(),_t(this,Ct).push(i)};const Yt=new class{constructor(){xt(this,Mt),xt(this,Lt),xt(this,jt),xt(this,Ot),xt(this,Ft),xt(this,Bt),xt(this,Jt),xt(this,Gt),xt(this,mt,e("div",ft.menuPanelContainer)),xt(this,wt,e("div",ft.nonogramWrapper)),xt(this,gt,e("div",ft.controlsContainer)),xt(this,vt,e("h2",ft.dialogHeading)),xt(this,bt,new M([_t(this,vt)])),xt(this,kt,new l),xt(this,St,void 0),xt(this,yt,void 0),xt(this,Et,void 0),xt(this,Wt,null),xt(this,Ct,[]),_t(this,bt).init(),At(this,Ot,Dt).call(this),_t(this,mt).append(_t(this,kt).timerElement);const t=e("button",ft.soundButton);t.ariaLabel="sound switcher",C.getIsMuted()&&t.classList.add(ft.soundOff),t.addEventListener("click",(()=>{C.toggleMuted(),t.classList.toggle(ft.soundOff)}));const i=e("button",ft.themeButton);i.ariaLabel="theme button",i.addEventListener("click",(()=>{document.body.classList.toggle("dark-theme"),t.classList.toggle(ft.darkTheme)}));const a=e("div",ft.buttonContainer);a.append(t,i),_t(this,mt).append(a),At(this,Lt,$t).call(this,1),localStorage.getItem(`${Qt}Score`)&&zt(this,Ct,JSON.parse(localStorage.getItem(`${Qt}Score`))),localStorage.getItem(`${Qt}SavedGame`)&&zt(this,Wt,JSON.parse(localStorage.getItem(`${Qt}SavedGame`)))}init(){document.body.append(_t(this,mt),_t(this,wt),_t(this,gt))}saveDataToLS(){localStorage.setItem(`${Qt}SavedGame`,JSON.stringify(_t(this,Wt))),localStorage.setItem(`${Qt}Score`,JSON.stringify(_t(this,Ct)))}};Yt.init(),window.addEventListener("beforeunload",(()=>{Yt.saveDataToLS()}))})();