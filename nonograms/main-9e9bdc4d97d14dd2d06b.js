(()=>{"use strict";var t={};function e(t,e,i){const a=document.createElement(t);return e&&(a.className=e),i&&a.append(i),a}t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var i=t.g.document;if(!e&&i&&(i.currentScript&&(e=i.currentScript.src),!e)){var a=i.getElementsByTagName("script");if(a.length)for(var s=a.length-1;s>-1&&!e;)e=a[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const i={};var a,s,n=Object.defineProperty,h=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)},o=(t,e,i)=>(h(t,e,"read from private field"),i?i.call(t):e.get(t)),r=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},c=(t,e,i,a)=>(h(t,e,"write to private field"),a?a.call(t,i):e.set(t,i),i);class l{constructor(){var t,h,o;t=this,h="timerElement",o=e("span",i.timer,"00:00"),((t,e,i)=>{e in t?n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i})(t,"symbol"!=typeof h?h+"":h,o),r(this,a,0),r(this,s,void 0)}update(){const t=Math.floor(Math.floor(o(this,a))%60).toString(),e=Math.floor(o(this,a)/60).toString();this.timerElement.replaceChildren(`${e.padStart(2,"0")}:${t.padStart(2,"0")}`)}start(){c(this,s,setInterval((()=>{c(this,a,o(this,a)+1),this.update()}),1e3))}stop(){clearInterval(o(this,s))}reset(){c(this,a,0)}getTime(){return o(this,a)}setTime(t){c(this,a,t)}}function d(t,i){const a=e("button","control-button",t);return a.onclick=i,a}a=new WeakMap,s=new WeakMap;const p=[{id:1,name:"Baby carriage",width:5,height:5,difficulty:"easy",scheme:[[!1,!0,!0,!1,!1],[!0,!0,!1,!1,!0],[!0,!0,!0,!0,!1],[!1,!0,!0,!1,!1],[!0,!1,!1,!0,!1]]},{id:2,name:"Rabbit",width:5,height:5,difficulty:"easy",scheme:[[!1,!0,!0,!1,!1],[!1,!1,!1,!0,!0],[!1,!0,!0,!0,!0],[!0,!0,!0,!0,!1],[!1,!0,!0,!0,!0]]},{id:3,name:"Camel",width:5,height:5,difficulty:"easy",scheme:[[!1,!1,!1,!0,!0],[!0,!0,!1,!0,!1],[!0,!0,!0,!0,!1],[!0,!1,!0,!1,!1],[!0,!1,!0,!1,!1]]},{id:4,name:"Clock",width:5,height:5,difficulty:"easy",scheme:[[!1,!0,!0,!0,!1],[!0,!1,!0,!1,!0],[!0,!1,!0,!0,!0],[!0,!1,!1,!1,!0],[!1,!0,!0,!0,!1]]},{id:5,name:"Heart",width:5,height:5,difficulty:"easy",scheme:[[!1,!0,!1,!0,!1],[!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0],[!1,!0,!0,!0,!1],[!1,!1,!0,!1,!1]]},{id:6,name:"Deer",width:10,height:10,difficulty:"medium",scheme:[[!1,!1,!1,!0,!1,!0,!1,!1,!0,!1],[!1,!1,!1,!1,!0,!0,!1,!0,!1,!1],[!1,!1,!1,!1,!1,!0,!0,!0,!0,!1],[!1,!0,!1,!1,!1,!1,!0,!1,!0,!0],[!0,!0,!1,!1,!1,!1,!0,!0,!1,!1],[!1,!1,!0,!0,!0,!0,!1,!1,!0,!1],[!1,!0,!1,!1,!1,!1,!1,!0,!0,!1],[!1,!0,!0,!1,!0,!0,!0,!1,!1,!0],[!0,!0,!1,!0,!1,!1,!0,!1,!0,!0],[!0,!1,!1,!0,!1,!1,!0,!1,!1,!1]]},{id:7,name:"Moon",width:10,height:10,difficulty:"easy",scheme:[[!1,!1,!1,!0,!0,!0,!0,!1,!1,!1],[!1,!0,!0,!0,!1,!1,!1,!1,!0,!1],[!1,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!1,!1,!1,!1,!1,!1,!0,!1],[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!0,!1,!1,!1,!1,!1,!1,!0],[!1,!0,!0,!0,!1,!1,!1,!1,!0,!1],[!1,!0,!0,!0,!0,!0,!0,!0,!0,!1],[!1,!1,!1,!0,!0,!0,!0,!1,!1,!1]]},{id:8,name:"Bunny",width:10,height:10,difficulty:"easy",scheme:[[!0,!0,!0,!0,!1,!1,!1,!1,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!1,!1,!1,!0,!0,!0,!0,!0,!0],[!1,!0,!1,!1,!0,!0,!0,!0,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!1,!1,!1,!1,!1,!1,!0,!0],[!0,!0,!1,!1,!1,!1,!1,!1,!1,!0],[!0,!0,!1,!0,!1,!1,!1,!1,!1,!1],[!0,!0,!0,!0,!0,!1,!1,!1,!1,!0],[!0,!0,!0,!1,!1,!1,!1,!1,!0,!0]]},{id:9,name:"Duck",width:10,height:10,difficulty:"medium",scheme:[[!1,!1,!1,!0,!0,!0,!1,!1,!1,!1],[!1,!1,!0,!1,!1,!1,!0,!1,!1,!1],[!1,!1,!0,!1,!0,!1,!0,!1,!1,!1],[!1,!0,!0,!0,!1,!1,!0,!1,!1,!1],[!0,!0,!0,!0,!0,!1,!0,!1,!1,!1],[!1,!1,!1,!0,!1,!0,!1,!1,!1,!0],[!1,!1,!0,!1,!1,!1,!0,!0,!0,!0],[!1,!0,!1,!1,!0,!1,!1,!1,!1,!0],[!1,!0,!1,!1,!0,!0,!1,!1,!0,!0],[!1,!0,!0,!1,!1,!0,!0,!0,!1,!0]]},{id:10,name:"Parrot",width:10,height:10,difficulty:"hard",scheme:[[!1,!1,!1,!1,!1,!1,!1,!1,!0,!1],[!1,!1,!1,!1,!1,!1,!1,!0,!0,!1],[!1,!1,!1,!1,!1,!0,!0,!0,!1,!0],[!1,!1,!0,!0,!0,!0,!0,!1,!0,!0],[!1,!0,!0,!1,!1,!1,!0,!0,!0,!1],[!0,!0,!1,!0,!1,!1,!0,!1,!1,!1],[!0,!0,!0,!1,!1,!1,!0,!1,!1,!1],[!0,!1,!1,!0,!1,!1,!0,!1,!1,!1],[!1,!1,!1,!0,!1,!1,!0,!0,!1,!1],[!1,!1,!1,!0,!1,!1,!1,!0,!0,!1]]},{id:11,name:"Cat",width:15,height:15,difficulty:"medium",scheme:[[!0,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1],[!0,!1,!1,!1,!1,!0,!0,!0,!0,!1,!1,!1,!0,!0,!1],[!0,!0,!1,!1,!0,!0,!0,!0,!0,!1,!1,!0,!1,!1,!1],[!1,!0,!0,!1,!0,!0,!0,!0,!0,!1,!1,!0,!0,!1,!1],[!0,!1,!0,!0,!1,!0,!0,!0,!0,!1,!1,!1,!0,!0,!1],[!0,!1,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1,!0,!1],[!0,!0,!1,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1,!0,!0],[!1,!0,!0,!1,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!0],[!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!0],[!0,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1],[!0,!0,!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!1],[!0,!0,!0,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1]]},{id:12,name:"Swan",width:15,height:15,difficulty:"hard",scheme:[[!1,!1,!1,!0,!0,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!0,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!0,!0,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!0,!1,!0,!0,!1,!0,!1,!1,!1,!1,!1,!1],[!1,!0,!0,!1,!1,!1,!0,!1,!0,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!0,!1,!0,!0,!1,!1,!0,!0,!0,!0,!0,!1],[!1,!1,!0,!1,!0,!0,!1,!0,!0,!0,!1,!1,!1,!0,!0],[!1,!0,!0,!1,!0,!1,!0,!0,!1,!1,!1,!0,!0,!0,!1],[!0,!0,!1,!1,!0,!0,!0,!1,!1,!0,!0,!1,!0,!1,!1],[!0,!0,!1,!1,!1,!1,!1,!0,!0,!1,!1,!0,!0,!0,!1],[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!1,!1],[!1,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!1],[!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1]]},{id:13,name:"Ram",width:15,height:15,difficulty:"medium",scheme:[[!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1],[!1,!1,!0,!0,!1,!1,!1,!1,!0,!0,!0,!0,!0,!1,!1],[!1,!1,!0,!1,!0,!0,!0,!0,!1,!0,!1,!1,!0,!0,!1],[!1,!1,!0,!1,!0,!1,!1,!0,!0,!1,!1,!0,!1,!1,!0],[!1,!1,!0,!0,!1,!0,!1,!0,!1,!0,!1,!1,!1,!1,!0],[!1,!1,!1,!0,!0,!0,!1,!1,!0,!0,!1,!0,!0,!0,!1],[!1,!0,!1,!1,!1,!1,!1,!0,!0,!1,!1,!1,!0,!1,!1],[!0,!1,!0,!0,!0,!0,!0,!1,!0,!1,!1,!1,!0,!0,!1],[!0,!1,!0,!1,!1,!1,!0,!0,!1,!0,!1,!1,!1,!0,!1],[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1],[!1,!0,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!0,!0,!1],[!1,!1,!0,!1,!0,!0,!0,!1,!0,!1,!1,!0,!0,!0,!1],[!1,!0,!1,!0,!0,!1,!0,!0,!0,!0,!1,!0,!0,!1,!1],[!1,!0,!1,!0,!1,!1,!1,!1,!1,!0,!0,!1,!0,!1,!1],[!1,!1,!0,!0,!1,!0,!0,!0,!1,!1,!0,!0,!0,!1,!0]]},{id:14,name:"Cow",width:15,height:15,difficulty:"medium",scheme:[[!1,!1,!1,!0,!0,!1,!1,!1,!1,!0,!0,!1,!1,!1,!1],[!1,!1,!0,!0,!1,!1,!1,!1,!1,!1,!0,!0,!1,!1,!1],[!1,!1,!0,!0,!0,!1,!1,!1,!1,!0,!0,!0,!1,!1,!1],[!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1],[!0,!0,!0,!0,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!1],[!0,!0,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!1,!1],[!1,!0,!0,!1,!1,!0,!1,!0,!1,!0,!0,!0,!1,!1,!1],[!1,!1,!0,!0,!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0],[!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!0,!1,!0,!0,!0],[!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!0,!1,!0,!0,!0],[!1,!1,!1,!0,!1,!0,!1,!1,!0,!1,!0,!1,!0,!0,!0],[!1,!1,!1,!0,!0,!1,!1,!1,!1,!0,!0,!1,!1,!0,!0],[!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]]},{id:15,name:"Rose",width:15,height:15,difficulty:"hard",scheme:[[!1,!1,!1,!1,!0,!0,!0,!1,!0,!0,!1,!1,!1,!1,!1],[!1,!1,!1,!0,!1,!1,!0,!0,!1,!0,!0,!1,!1,!1,!1],[!1,!1,!0,!1,!0,!0,!1,!1,!0,!1,!0,!0,!1,!1,!1],[!1,!1,!0,!1,!1,!1,!1,!0,!0,!1,!1,!0,!1,!1,!1],[!0,!1,!0,!0,!1,!1,!0,!0,!0,!1,!0,!1,!1,!1,!1],[!0,!0,!1,!0,!0,!0,!0,!0,!1,!1,!0,!0,!1,!1,!1],[!0,!0,!0,!1,!0,!0,!0,!1,!1,!0,!0,!0,!1,!1,!1],[!1,!0,!0,!0,!1,!1,!1,!0,!1,!0,!0,!1,!1,!1,!0],[!1,!1,!1,!1,!0,!0,!0,!0,!1,!0,!0,!1,!0,!0,!0],[!1,!1,!0,!0,!0,!0,!0,!1,!0,!0,!1,!0,!0,!0,!0],[!1,!1,!1,!0,!0,!0,!1,!0,!1,!1,!0,!0,!0,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!0,!0,!0,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!1,!1,!1,!1]]}],u=t.p+"happy-pop-1-185286-9cd923eb82cadb78fb3b.mp3",f=t.p+"happy-pop-3-185288-a2690b14dd9741896e9c.mp3",m=t.p+"click-button-140881-b070217cc3ec9826fd89.mp3",w=t.p+"win-sound-d97faf05c26b6ff8aa03.mp3";var v,g,b,k=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)},y=(t,e,i)=>(k(t,e,"read from private field"),i?i.call(t):e.get(t)),S=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)};class E{static toggleMuted(){var t,e,i;t=this,e=v,i=!y(this,v),k(t,e,"write to private field"),e.set(t,i)}static getIsMuted(){return y(this,v)}static playSound(t){if(!y(this,v)){const a=(this,e=g,i=b,k(this,e,"access private method"),i).call(this,t),s=new Audio(a);s.volume=.4,s.play()}var e,i}}v=new WeakMap,g=new WeakSet,b=function(t){return{blackClick:f,whiteClick:u,crossClick:m,win:w}[t]},S(E,g),S(E,v,!1);class W{constructor(t){this.container=e("dialog","ajWwsHR94cbENsGw1MWt"),this.contentWrapper=e("div","jjdmMpY7V3JD86phOnaw"),this.container.append(this.contentWrapper),t&&this.appendElements(t),this.container.addEventListener("click",(t=>{t.target===t.currentTarget&&t.currentTarget.close()}))}init(){document.body.append(this.container)}appendElements(t){this.contentWrapper.append(...t)}}const C={clue:"v8cWgl_fywNE7CfrWmgp",left:"zAA4EZ2O6oTkWbzP4scJ",container:"C9_jFBYVvtEUuBlwviiC",cluesWrapper:"lIfMvRJWvjBS_98sMwWn",top:"UujemaXKUY9K8Q_mGLGx"};var M=Object.defineProperty;class L{constructor(t,i){var a,s,n;a=this,s="container",n=e("div",C.container),((t,e,i)=>{e in t?M(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i})(a,"symbol"!=typeof s?s+"":s,n),this.container.classList.add(C[i]);for(let a=0;a<t.length;a+=1){const s=e("div",`${C[i]} ${C.cluesWrapper}`);for(let i=0;i<t[a].length;i+=1){const n=e("div",C.clue,t[a][i]);s.append(n)}this.container.append(s)}}}const T={cell:"rQYg1FRUbLeNrKzjvr31",white:"ghNTMykpS1hfevIqJxFT",black:"nNLvindpVErIaMM2hOUg",cross:"jG3y1KIZtpgwEHBr_CHx"};var F,O,j,B,D,$,N,P=Object.defineProperty,I=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)},R=(t,e,i)=>(I(t,e,"read from private field"),i?i.call(t):e.get(t)),z=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},G=(t,e,i,a)=>(I(t,e,"write to private field"),a?a.call(t,i):e.set(t,i),i),K=(t,e,i)=>(I(t,e,"access private method"),i);class H{constructor(t,i="white"){var a,s,n;z(this,O),z(this,B),z(this,$),a=this,s="cellEl",n=e("div"),((t,e,i)=>{e in t?P(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i})(a,"symbol"!=typeof s?s+"":s,n),z(this,F,void 0),G(this,F,i),K(this,O,j).call(this),this.cellEl.addEventListener("click",(()=>{K(this,B,D).call(this),t(R(this,F))})),this.cellEl.addEventListener("contextmenu",(e=>{e.preventDefault(),"black"===R(this,F)?(K(this,$,N).call(this),t(R(this,F))):"white"===R(this,F)?K(this,$,N).call(this):(G(this,F,"white"),K(this,O,j).call(this),E.playSound("whiteClick"))}))}getState(){return R(this,F)}setState(t){"white"!==t&&"black"!==t&&"cross"!==t||(G(this,F,t),K(this,O,j).call(this))}}F=new WeakMap,O=new WeakSet,j=function(){this.cellEl.className=`${T[R(this,F)]} ${T.cell}`},B=new WeakSet,D=function(){"black"!==R(this,F)?(G(this,F,"black"),E.playSound("blackClick")):(G(this,F,"white"),E.playSound("whiteClick")),K(this,O,j).call(this)},$=new WeakSet,N=function(){G(this,F,"cross"),K(this,O,j).call(this),E.playSound("crossClick")};const Z="imXBY429D00i0tuJfKdC";var _,x,A,J,Q,U,V,q,Y,X,tt=Object.defineProperty,et=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)},it=(t,e,i)=>(et(t,e,"read from private field"),i?i.call(t):e.get(t)),at=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},st=(t,e,i,a)=>(et(t,e,"write to private field"),a?a.call(t,i):e.set(t,i),i),nt=(t,e,i)=>(et(t,e,"access private method"),i);class ht{constructor(t,i,a,s){var n,h,o;at(this,Q),at(this,V),at(this,Y),n=this,h="container",o=e("div","kqL2C4xefSoZX97z2xq9"),((t,e,i)=>{e in t?tt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i})(n,"symbol"!=typeof h?h+"":h,o),at(this,_,0),at(this,x,void 0),at(this,A,void 0),at(this,J,[]),st(this,x,t),st(this,A,i);let r=!1;s?(this.savedScheme=s,nt(this,V,q).call(this,t,this.savedScheme)):nt(this,Q,U).call(this,it(this,x)),this.container.addEventListener("click",(()=>{r||(a(),r=!0)}))}showSolution(){it(this,x).forEach(((t,e)=>{t.forEach(((t,i)=>{const a=t?"black":"white";it(this,J)[e][i].setState(a)}))}))}clean(){this.container.replaceChildren(),st(this,_,0),nt(this,Q,U).call(this,it(this,x),it(this,A))}blockClick(){this.container.classList.add("cCZD1_Lzar4rcl9K6un9")}getFieldState(){const t=[];return it(this,J).forEach((e=>{const i=e.map((t=>t.getState()));t.push(i)})),t}}_=new WeakMap,x=new WeakMap,A=new WeakMap,J=new WeakMap,Q=new WeakSet,U=function(t){st(this,J,[]),t.forEach((t=>{const i=[];it(this,J).push(i);const a=e("div",Z);this.container.append(a),t.forEach((t=>{t||st(this,_,it(this,_)+1);const e=nt(this,Y,X).call(this,t);i.push(e),a.append(e.cellEl)}))}))},V=new WeakSet,q=function(t,i){st(this,J,[]),t.forEach(((t,a)=>{const s=[];it(this,J).push(s);const n=e("div",Z);this.container.append(n),t.forEach(((t,e)=>{const h=i[a][e];(t&&"black"===h||!t&&"black"!==h)&&st(this,_,it(this,_)+1);const o=nt(this,Y,X).call(this,t,h);s.push(o),n.append(o.cellEl)}))}))},Y=new WeakSet,X=function(t,e){return new H((e=>{st(this,_,t&&"black"===e||!t&&"black"!==e?it(this,_)+1:it(this,_)-1),it(this,A).call(this,it(this,_))}),e)};var ot,rt=Object.defineProperty,ct=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)},lt=(t,e,i)=>(ct(t,e,"read from private field"),i?i.call(t):e.get(t));class dt{constructor(t,i,a,s=null){((t,e,i)=>{((t,e,i)=>{e in t?rt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i})(t,"symbol"!=typeof e?e+"":e,i)})(this,"container",e("div","DOPCQPdQKBDOACbPeDfd")),((t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,void 0)})(this,ot);const n=function(t){const e=[],i=[];for(let a=0;a<t.length;a+=1){let s=0;const n=[];let h=0;const o=[];for(let e=0;e<t[0].length;e+=1)t[a][e]?(s+=1,e===t[0].length-1&&n.push(s)):0!==s&&(n.push(s),s=0),t[e][a]?(h+=1,e===t[0].length-1&&o.push(h)):0!==h&&(o.push(h),h=0);i.push(n),e.push(o)}return{top:e,left:i}}(t),h=new L(n.top,"top"),o=new L(n.left,"left");var r,c,l;r=this,c=ot,l=new ht(t,i,a,s),ct(r,c,"write to private field"),c.set(r,l),this.container.append(h.container,o.container,lt(this,ot).container)}resetField(){lt(this,ot).clean()}blockField(){lt(this,ot).blockClick()}getFieldState(){return lt(this,ot).getFieldState()}showSolution(){lt(this,ot).showSolution(),this.blockField()}}ot=new WeakMap;const pt={levelHeading:"t7kM3C_2reK9ZkwUfTQr",dialogHeading:"ZQOFH7AzxTpK67Vfus_r",levelList:"SDmMvCEJxgqvBorcYWcb",levelItem:"qMFk4RFRqMhvS9cdls3_",button:"a5ZqL0Ls1lc22D2jaVCL",soundButton:"_e9K5M2cZAzmzPfLkrDs",themeButton:"NubjD91ALenwRBtb55O4",soundOff:"LNQdR6gGk2EiTN4q2VQy",menuPanelContainer:"viutKB6VztCuhYnP5JZX",disabled:"CzUB4VfOuFoXfPzkQhH9",controlsContainer:"o8dmpSsZlpr1stoDFUVD"};var ut,ft,mt,wt,vt,gt,bt,kt,yt,St,Et,Wt,Ct,Mt,Lt,Tt,Ft,Ot,jt,Bt,Dt,$t,Nt=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)},Pt=(t,e,i)=>(Nt(t,e,"read from private field"),i?i.call(t):e.get(t)),It=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},Rt=(t,e,i,a)=>(Nt(t,e,"write to private field"),a?a.call(t,i):e.set(t,i),i),zt=(t,e,i)=>(Nt(t,e,"access private method"),i);const Gt="MideliNonograms";ut=new WeakMap,ft=new WeakMap,mt=new WeakMap,wt=new WeakMap,vt=new WeakMap,gt=new WeakMap,bt=new WeakMap,kt=new WeakMap,yt=new WeakMap,St=new WeakMap,Et=new WeakSet,Wt=function(){Pt(this,vt).container.showModal(),E.playSound("win"),Pt(this,gt).stop(),Pt(this,kt).blockField(),zt(this,Dt,$t).call(this),Pt(this,wt).replaceChildren(`Great! You have solved the nonogram in ${Pt(this,gt).getTime()} seconds!`)},Ct=new WeakSet,Mt=function(t,e=null,i=0){Rt(this,yt,t),Rt(this,bt,p[t-1]),Pt(this,ft).replaceChildren(),Pt(this,gt).stop(),Pt(this,gt).setTime(i),Pt(this,gt).update();const a=Pt(this,bt).width*Pt(this,bt).height;Rt(this,kt,new dt(Pt(this,bt).scheme,(t=>{t>=a&&zt(this,Et,Wt).call(this)}),(()=>Pt(this,gt).start()),e)),Pt(this,ft).append(Pt(this,kt).container),Pt(this,mt).replaceChildren();const s=d("Reset game",(()=>Pt(this,kt).resetField())),n=d("Save game",(()=>zt(this,jt,Bt).call(this))),h=d("Show solution",(()=>{Pt(this,kt).showSolution(),Pt(this,gt).stop(),zt(this,Dt,$t).call(this)}));Pt(this,mt).append(s,n,h)},Lt=new WeakSet,Tt=function(t,i){const a=e("h2",pt.levelHeading,"Choose a level"),s=e("ul",pt.levelList);p.forEach((a=>{const n=e("li",pt.levelItem),h=`${a.width} x ${a.height} ${a.name} (${a.difficulty})`,o=e("button",pt.button,h);s.append(n),n.append(o),o.addEventListener("click",(()=>{zt(this,Ct,Mt).call(this,a.id),t.container.close(),i.container.close()}))})),t.appendElements([a,s])},Ft=new WeakSet,Ot=function(){const t=new W,e=new W,i=d("Random Game",(()=>{const i=function(t,e=0){return Math.floor(Math.random()*(t-e)+e)}(p.length);zt(this,Ct,Mt).call(this,i),e.container.close(),t.container.close()}));t.init();const a=d("MENU",(()=>t.container.showModal()));Pt(this,ut).append(a);const s=d("New Game",(()=>{e.container.showModal()})),n=d("Continue game",(()=>{Pt(this,St)&&(zt(this,Ct,Mt).call(this,...Pt(this,St)),t.container.close())}));t.appendElements([s,i,n]),zt(this,Lt,Tt).call(this,e,t),e.init()},jt=new WeakSet,Bt=function(){Rt(this,St,[Pt(this,yt),Pt(this,kt).getFieldState(),Pt(this,gt).getTime()])},Dt=new WeakSet,$t=function(){Array.from(Pt(this,mt).children).forEach((t=>t.classList.add(pt.disabled)))};const Kt=new class{constructor(){It(this,Et),It(this,Ct),It(this,Lt),It(this,Ft),It(this,jt),It(this,Dt),It(this,ut,e("div",pt.menuPanelContainer)),It(this,ft,e("div",pt.nonogramWrapper)),It(this,mt,e("div",pt.controlsContainer)),It(this,wt,e("h2",pt.dialogHeading)),It(this,vt,new W([Pt(this,wt)])),It(this,gt,new l),It(this,bt,void 0),It(this,kt,void 0),It(this,yt,void 0),It(this,St,null),Pt(this,vt).init(),zt(this,Ft,Ot).call(this),Pt(this,ut).append(Pt(this,gt).timerElement);const t=e("button",pt.soundButton);t.ariaLabel="sound switcher",E.getIsMuted()&&t.classList.add(pt.soundOff),t.addEventListener("click",(()=>{E.toggleMuted(),t.classList.toggle(pt.soundOff)}));const i=e("button",pt.themeButton);i.ariaLabel="theme button",i.addEventListener("click",(()=>{document.body.classList.toggle("dark-theme"),t.classList.toggle(pt.darkTheme)}));const a=e("div",pt.buttonContainer);a.append(t,i),Pt(this,ut).append(a),zt(this,Ct,Mt).call(this,1),localStorage.getItem(`${Gt}SavedGame`)&&Rt(this,St,JSON.parse(localStorage.getItem(`${Gt}SavedGame`)))}init(){document.body.append(Pt(this,ut),Pt(this,ft),Pt(this,mt))}saveDataToLS(){localStorage.setItem(`${Gt}SavedGame`,JSON.stringify(Pt(this,St)))}};Kt.init(),window.addEventListener("beforeunload",(()=>{Kt.saveDataToLS()}))})();