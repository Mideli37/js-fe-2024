(()=>{"use strict";var t={};function e(t,e,i){const a=document.createElement(t);return e&&(a.className=e),i&&a.append(i),a}t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var i=t.g.document;if(!e&&i&&(i.currentScript&&(e=i.currentScript.src),!e)){var a=i.getElementsByTagName("script");if(a.length)for(var s=a.length-1;s>-1&&!e;)e=a[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const i={};var a,s,n=Object.defineProperty,o=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)},h=(t,e,i)=>(o(t,e,"read from private field"),i?i.call(t):e.get(t)),r=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},c=(t,e,i,a)=>(o(t,e,"write to private field"),a?a.call(t,i):e.set(t,i),i);class l{constructor(){var t,o,h;t=this,o="timerElement",h=e("span",i.timer,"00:00"),((t,e,i)=>{e in t?n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i})(t,"symbol"!=typeof o?o+"":o,h),r(this,a,0),r(this,s,void 0)}update(){const t=Math.floor(Math.floor(h(this,a))%60).toString(),e=Math.floor(h(this,a)/60).toString();this.timerElement.replaceChildren(`${e.padStart(2,"0")}:${t.padStart(2,"0")}`)}start(){c(this,s,setInterval((()=>{c(this,a,h(this,a)+1),this.update()}),1e3))}stop(){clearInterval(h(this,s))}reset(){c(this,a,0)}getTime(){return h(this,a)}setTime(t){c(this,a,t)}}function d(t,i){const a=e("button","control-button",t);return a.onclick=i,a}a=new WeakMap,s=new WeakMap;const p=[{id:1,name:"Baby carriage",width:5,height:5,difficulty:"easy",scheme:[[!1,!0,!0,!1,!1],[!0,!0,!1,!1,!0],[!0,!0,!0,!0,!1],[!1,!0,!0,!1,!1],[!0,!1,!1,!0,!1]]},{id:2,name:"Rabbit",width:5,height:5,difficulty:"easy",scheme:[[!1,!0,!0,!1,!1],[!1,!1,!1,!0,!0],[!1,!0,!0,!0,!0],[!0,!0,!0,!0,!1],[!1,!0,!0,!0,!0]]},{id:3,name:"Camel",width:5,height:5,difficulty:"easy",scheme:[[!1,!1,!1,!0,!0],[!0,!0,!1,!0,!1],[!0,!0,!0,!0,!1],[!0,!1,!0,!1,!1],[!0,!1,!0,!1,!1]]},{id:4,name:"Clock",width:5,height:5,difficulty:"easy",scheme:[[!1,!0,!0,!0,!1],[!0,!1,!0,!1,!0],[!0,!1,!0,!0,!0],[!0,!1,!1,!1,!0],[!1,!0,!0,!0,!1]]},{id:5,name:"Heart",width:5,height:5,difficulty:"easy",scheme:[[!1,!0,!1,!0,!1],[!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0],[!1,!0,!0,!0,!1],[!1,!1,!0,!1,!1]]},{id:6,name:"Deer",width:10,height:10,difficulty:"medium",scheme:[[!1,!1,!1,!0,!1,!0,!1,!1,!0,!1],[!1,!1,!1,!1,!0,!0,!1,!0,!1,!1],[!1,!1,!1,!1,!1,!0,!0,!0,!0,!1],[!1,!0,!1,!1,!1,!1,!0,!1,!0,!0],[!0,!0,!1,!1,!1,!1,!0,!0,!1,!1],[!1,!1,!0,!0,!0,!0,!1,!1,!0,!1],[!1,!0,!1,!1,!1,!1,!1,!0,!0,!1],[!1,!0,!0,!1,!0,!0,!0,!1,!1,!0],[!0,!0,!1,!0,!1,!1,!0,!1,!0,!0],[!0,!1,!1,!0,!1,!1,!0,!1,!1,!1]]},{id:7,name:"Moon",width:10,height:10,difficulty:"easy",scheme:[[!1,!1,!1,!0,!0,!0,!0,!1,!1,!1],[!1,!0,!0,!0,!1,!1,!1,!1,!0,!1],[!1,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!1,!1,!1,!1,!1,!1,!0,!1],[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!0,!1,!1,!1,!1,!1,!1,!0],[!1,!0,!0,!0,!1,!1,!1,!1,!0,!1],[!1,!0,!0,!0,!0,!0,!0,!0,!0,!1],[!1,!1,!1,!0,!0,!0,!0,!1,!1,!1]]},{id:8,name:"Bunny",width:10,height:10,difficulty:"easy",scheme:[[!0,!0,!0,!0,!1,!1,!1,!1,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!1,!1,!1,!0,!0,!0,!0,!0,!0],[!1,!0,!1,!1,!0,!0,!0,!0,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!1,!1,!1,!1,!1,!1,!0,!0],[!0,!0,!1,!1,!1,!1,!1,!1,!1,!0],[!0,!0,!1,!0,!1,!1,!1,!1,!1,!1],[!0,!0,!0,!0,!0,!1,!1,!1,!1,!0],[!0,!0,!0,!1,!1,!1,!1,!1,!0,!0]]},{id:9,name:"Duck",width:10,height:10,difficulty:"medium",scheme:[[!1,!1,!1,!0,!0,!0,!1,!1,!1,!1],[!1,!1,!0,!1,!1,!1,!0,!1,!1,!1],[!1,!1,!0,!1,!0,!1,!0,!1,!1,!1],[!1,!0,!0,!0,!1,!1,!0,!1,!1,!1],[!0,!0,!0,!0,!0,!1,!0,!1,!1,!1],[!1,!1,!1,!0,!1,!0,!1,!1,!1,!0],[!1,!1,!0,!1,!1,!1,!0,!0,!0,!0],[!1,!0,!1,!1,!0,!1,!1,!1,!1,!0],[!1,!0,!1,!1,!0,!0,!1,!1,!0,!0],[!1,!0,!0,!1,!1,!0,!0,!0,!1,!0]]},{id:10,name:"Parrot",width:10,height:10,difficulty:"hard",scheme:[[!1,!1,!1,!1,!1,!1,!1,!1,!0,!1],[!1,!1,!1,!1,!1,!1,!1,!0,!0,!1],[!1,!1,!1,!1,!1,!0,!0,!0,!1,!0],[!1,!1,!0,!0,!0,!0,!0,!1,!0,!0],[!1,!0,!0,!1,!1,!1,!0,!0,!0,!1],[!0,!0,!1,!0,!1,!1,!0,!1,!1,!1],[!0,!0,!0,!1,!1,!1,!0,!1,!1,!1],[!0,!1,!1,!0,!1,!1,!0,!1,!1,!1],[!1,!1,!1,!0,!1,!1,!0,!0,!1,!1],[!1,!1,!1,!0,!1,!1,!1,!0,!0,!1]]},{id:11,name:"Cat",width:15,height:15,difficulty:"medium",scheme:[[!0,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1],[!0,!1,!1,!1,!1,!0,!0,!0,!0,!1,!1,!1,!0,!0,!1],[!0,!0,!1,!1,!0,!0,!0,!0,!0,!1,!1,!0,!1,!1,!1],[!1,!0,!0,!1,!0,!0,!0,!0,!0,!1,!1,!0,!0,!1,!1],[!0,!1,!0,!0,!1,!0,!0,!0,!0,!1,!1,!1,!0,!0,!1],[!0,!1,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1,!0,!1],[!0,!0,!1,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1,!0,!0],[!1,!0,!0,!1,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!0],[!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!0],[!0,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1],[!0,!0,!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!1],[!0,!0,!0,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1]]},{id:12,name:"Swan",width:15,height:15,difficulty:"hard",scheme:[[!1,!1,!1,!0,!0,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!0,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!0,!0,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!0,!1,!0,!0,!1,!0,!1,!1,!1,!1,!1,!1],[!1,!0,!0,!1,!1,!1,!0,!1,!0,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!0,!1,!0,!0,!1,!1,!0,!0,!0,!0,!0,!1],[!1,!1,!0,!1,!0,!0,!1,!0,!0,!0,!1,!1,!1,!0,!0],[!1,!0,!0,!1,!0,!1,!0,!0,!1,!1,!1,!0,!0,!0,!1],[!0,!0,!1,!1,!0,!0,!0,!1,!1,!0,!0,!1,!0,!1,!1],[!0,!0,!1,!1,!1,!1,!1,!0,!0,!1,!1,!0,!0,!0,!1],[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!1,!1],[!1,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!1],[!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1]]},{id:13,name:"Ram",width:15,height:15,difficulty:"medium",scheme:[[!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1],[!1,!1,!0,!0,!1,!1,!1,!1,!0,!0,!0,!0,!0,!1,!1],[!1,!1,!0,!1,!0,!0,!0,!0,!1,!0,!1,!1,!0,!0,!1],[!1,!1,!0,!1,!0,!1,!1,!0,!0,!1,!1,!0,!1,!1,!0],[!1,!1,!0,!0,!1,!0,!1,!0,!1,!0,!1,!1,!1,!1,!0],[!1,!1,!1,!0,!0,!0,!1,!1,!0,!0,!1,!0,!0,!0,!1],[!1,!0,!1,!1,!1,!1,!1,!0,!0,!1,!1,!1,!0,!1,!1],[!0,!1,!0,!0,!0,!0,!0,!1,!0,!1,!1,!1,!0,!0,!1],[!0,!1,!0,!1,!1,!1,!0,!0,!1,!0,!1,!1,!1,!0,!1],[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1],[!1,!0,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!0,!0,!1],[!1,!1,!0,!1,!0,!0,!0,!1,!0,!1,!1,!0,!0,!0,!1],[!1,!0,!1,!0,!0,!1,!0,!0,!0,!0,!1,!0,!0,!1,!1],[!1,!0,!1,!0,!1,!1,!1,!1,!1,!0,!0,!1,!0,!1,!1],[!1,!1,!0,!0,!1,!0,!0,!0,!1,!1,!0,!0,!0,!1,!0]]},{id:14,name:"Cow",width:15,height:15,difficulty:"medium",scheme:[[!1,!1,!1,!0,!0,!1,!1,!1,!1,!0,!0,!1,!1,!1,!1],[!1,!1,!0,!0,!1,!1,!1,!1,!1,!1,!0,!0,!1,!1,!1],[!1,!1,!0,!0,!0,!1,!1,!1,!1,!0,!0,!0,!1,!1,!1],[!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1],[!0,!0,!0,!0,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!1],[!0,!0,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!1,!1],[!1,!0,!0,!1,!1,!0,!1,!0,!1,!0,!0,!0,!1,!1,!1],[!1,!1,!0,!0,!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0],[!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!0,!1,!0,!0,!0],[!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!0,!1,!0,!0,!0],[!1,!1,!1,!0,!1,!0,!1,!1,!0,!1,!0,!1,!0,!0,!0],[!1,!1,!1,!0,!0,!1,!1,!1,!1,!0,!0,!1,!1,!0,!0],[!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]]},{id:15,name:"Rose",width:15,height:15,difficulty:"hard",scheme:[[!1,!1,!1,!1,!0,!0,!0,!1,!0,!0,!1,!1,!1,!1,!1],[!1,!1,!1,!0,!1,!1,!0,!0,!1,!0,!0,!1,!1,!1,!1],[!1,!1,!0,!1,!0,!0,!1,!1,!0,!1,!0,!0,!1,!1,!1],[!1,!1,!0,!1,!1,!1,!1,!0,!0,!1,!1,!0,!1,!1,!1],[!0,!1,!0,!0,!1,!1,!0,!0,!0,!1,!0,!1,!1,!1,!1],[!0,!0,!1,!0,!0,!0,!0,!0,!1,!1,!0,!0,!1,!1,!1],[!0,!0,!0,!1,!0,!0,!0,!1,!1,!0,!0,!0,!1,!1,!1],[!1,!0,!0,!0,!1,!1,!1,!0,!1,!0,!0,!1,!1,!1,!0],[!1,!1,!1,!1,!0,!0,!0,!0,!1,!0,!0,!1,!0,!0,!0],[!1,!1,!0,!0,!0,!0,!0,!1,!0,!0,!1,!0,!0,!0,!0],[!1,!1,!1,!0,!0,!0,!1,!0,!1,!1,!0,!0,!0,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!0,!0,!0,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!1,!1,!1,!1]]}],u={};function f(t,i,a){return console.log(a),a.map((a=>e(t,i,a)))}const m=t.p+"happy-pop-1-185286-9cd923eb82cadb78fb3b.mp3",w=t.p+"happy-pop-3-185288-a2690b14dd9741896e9c.mp3",g=t.p+"click-button-140881-b070217cc3ec9826fd89.mp3",v=t.p+"win-sound-d97faf05c26b6ff8aa03.mp3";var b,k,S,y=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)},W=(t,e,i)=>(y(t,e,"read from private field"),i?i.call(t):e.get(t)),E=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)};class C{static toggleMuted(){var t,e,i;t=this,e=b,i=!W(this,b),y(t,e,"write to private field"),e.set(t,i)}static getIsMuted(){return W(this,b)}static playSound(t){if(!W(this,b)){const a=(this,e=k,i=S,y(this,e,"access private method"),i).call(this,t),s=new Audio(a);s.volume=.4,s.play()}var e,i}}b=new WeakMap,k=new WeakSet,S=function(t){return{blackClick:w,whiteClick:m,crossClick:g,win:v}[t]},E(C,k),E(C,b,!1);class M{constructor(t){this.container=e("dialog","ajWwsHR94cbENsGw1MWt"),this.contentWrapper=e("div","jjdmMpY7V3JD86phOnaw"),this.container.append(this.contentWrapper),t&&this.appendElements(t),this.container.addEventListener("click",(t=>{t.target===t.currentTarget&&t.currentTarget.close()}))}init(){document.body.append(this.container)}appendElements(t){this.contentWrapper.append(...t)}clean(){this.container.replaceChildren(),console.log("clean")}}const T={clue:"v8cWgl_fywNE7CfrWmgp",left:"zAA4EZ2O6oTkWbzP4scJ",container:"C9_jFBYVvtEUuBlwviiC",cluesWrapper:"lIfMvRJWvjBS_98sMwWn",top:"UujemaXKUY9K8Q_mGLGx"};var L=Object.defineProperty;class ${constructor(t,i){var a,s,n;a=this,s="container",n=e("div",T.container),((t,e,i)=>{e in t?L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i})(a,"symbol"!=typeof s?s+"":s,n),this.container.classList.add(T[i]);for(let a=0;a<t.length;a+=1){const s=e("div",`${T[i]} ${T.cluesWrapper}`);for(let i=0;i<t[a].length;i+=1){const n=e("div",T.clue,t[a][i]);s.append(n)}this.container.append(s)}}}const N={cell:"rQYg1FRUbLeNrKzjvr31",white:"ghNTMykpS1hfevIqJxFT",black:"nNLvindpVErIaMM2hOUg",cross:"jG3y1KIZtpgwEHBr_CHx"};var O,D,F,j,B,I,P,R=Object.defineProperty,H=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)},z=(t,e,i)=>(H(t,e,"read from private field"),i?i.call(t):e.get(t)),G=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},J=(t,e,i,a)=>(H(t,e,"write to private field"),a?a.call(t,i):e.set(t,i),i),K=(t,e,i)=>(H(t,e,"access private method"),i);class x{constructor(t,i="white"){var a,s,n;G(this,D),G(this,j),G(this,I),a=this,s="cellEl",n=e("div"),((t,e,i)=>{e in t?R(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i})(a,"symbol"!=typeof s?s+"":s,n),G(this,O,void 0),J(this,O,i),K(this,D,F).call(this),this.cellEl.addEventListener("click",(()=>{K(this,j,B).call(this),t(z(this,O))})),this.cellEl.addEventListener("contextmenu",(e=>{e.preventDefault(),"black"===z(this,O)?(K(this,I,P).call(this),t(z(this,O))):"white"===z(this,O)?K(this,I,P).call(this):(J(this,O,"white"),K(this,D,F).call(this),C.playSound("whiteClick"))}))}getState(){return z(this,O)}setState(t){"white"!==t&&"black"!==t&&"cross"!==t||(J(this,O,t),K(this,D,F).call(this))}}O=new WeakMap,D=new WeakSet,F=function(){this.cellEl.className=`${N[z(this,O)]} ${N.cell}`},j=new WeakSet,B=function(){"black"!==z(this,O)?(J(this,O,"black"),C.playSound("blackClick")):(J(this,O,"white"),C.playSound("whiteClick")),K(this,D,F).call(this)},I=new WeakSet,P=function(){J(this,O,"cross"),K(this,D,F).call(this),C.playSound("crossClick")};const Z="imXBY429D00i0tuJfKdC";var _,A,Q,U,V,q,Y,X,tt,et,it=Object.defineProperty,at=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)},st=(t,e,i)=>(at(t,e,"read from private field"),i?i.call(t):e.get(t)),nt=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},ot=(t,e,i,a)=>(at(t,e,"write to private field"),a?a.call(t,i):e.set(t,i),i),ht=(t,e,i)=>(at(t,e,"access private method"),i);class rt{constructor(t,i,a,s){var n,o,h;nt(this,V),nt(this,Y),nt(this,tt),n=this,o="container",h=e("div","kqL2C4xefSoZX97z2xq9"),((t,e,i)=>{e in t?it(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i})(n,"symbol"!=typeof o?o+"":o,h),nt(this,_,0),nt(this,A,void 0),nt(this,Q,void 0),nt(this,U,[]),ot(this,A,t),ot(this,Q,i);let r=!1;s?(this.savedScheme=s,ht(this,Y,X).call(this,t,this.savedScheme)):ht(this,V,q).call(this,st(this,A)),this.container.addEventListener("click",(()=>{r||(a(),r=!0)}))}showSolution(){st(this,A).forEach(((t,e)=>{t.forEach(((t,i)=>{const a=t?"black":"white";st(this,U)[e][i].setState(a)}))}))}clean(){this.container.replaceChildren(),ot(this,_,0),ht(this,V,q).call(this,st(this,A),st(this,Q))}blockClick(){this.container.classList.add("cCZD1_Lzar4rcl9K6un9")}getFieldState(){const t=[];return st(this,U).forEach((e=>{const i=e.map((t=>t.getState()));t.push(i)})),t}}_=new WeakMap,A=new WeakMap,Q=new WeakMap,U=new WeakMap,V=new WeakSet,q=function(t){ot(this,U,[]),t.forEach((t=>{const i=[];st(this,U).push(i);const a=e("div",Z);this.container.append(a),t.forEach((t=>{t||ot(this,_,st(this,_)+1);const e=ht(this,tt,et).call(this,t);i.push(e),a.append(e.cellEl)}))}))},Y=new WeakSet,X=function(t,i){ot(this,U,[]),t.forEach(((t,a)=>{const s=[];st(this,U).push(s);const n=e("div",Z);this.container.append(n),t.forEach(((t,e)=>{const o=i[a][e];(t&&"black"===o||!t&&"black"!==o)&&ot(this,_,st(this,_)+1);const h=ht(this,tt,et).call(this,t,o);s.push(h),n.append(h.cellEl)}))}))},tt=new WeakSet,et=function(t,e){return new x((e=>{ot(this,_,t&&"black"===e||!t&&"black"!==e?st(this,_)+1:st(this,_)-1),st(this,Q).call(this,st(this,_))}),e)};var ct,lt=Object.defineProperty,dt=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)},pt=(t,e,i)=>(dt(t,e,"read from private field"),i?i.call(t):e.get(t));class ut{constructor(t,i,a,s=null){((t,e,i)=>{((t,e,i)=>{e in t?lt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i})(t,"symbol"!=typeof e?e+"":e,i)})(this,"container",e("div","DOPCQPdQKBDOACbPeDfd")),((t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,void 0)})(this,ct);const n=function(t){const e=[],i=[];for(let a=0;a<t.length;a+=1){let s=0;const n=[];let o=0;const h=[];for(let e=0;e<t[0].length;e+=1)t[a][e]?(s+=1,e===t[0].length-1&&n.push(s)):0!==s&&(n.push(s),s=0),t[e][a]?(o+=1,e===t[0].length-1&&h.push(o)):0!==o&&(h.push(o),o=0);i.push(n),e.push(h)}return{top:e,left:i}}(t),o=new $(n.top,"top"),h=new $(n.left,"left");var r,c,l;r=this,c=ct,l=new rt(t,i,a,s),dt(r,c,"write to private field"),c.set(r,l),this.container.append(o.container,h.container,pt(this,ct).container)}resetField(){pt(this,ct).clean()}blockField(){pt(this,ct).blockClick()}getFieldState(){return pt(this,ct).getFieldState()}showSolution(){pt(this,ct).showSolution(),this.blockField()}}ct=new WeakMap;const ft={levelHeading:"t7kM3C_2reK9ZkwUfTQr",dialogHeading:"ZQOFH7AzxTpK67Vfus_r",levelList:"SDmMvCEJxgqvBorcYWcb",levelItem:"qMFk4RFRqMhvS9cdls3_",button:"a5ZqL0Ls1lc22D2jaVCL",soundButton:"_e9K5M2cZAzmzPfLkrDs",themeButton:"NubjD91ALenwRBtb55O4",soundOff:"LNQdR6gGk2EiTN4q2VQy",menuPanelContainer:"viutKB6VztCuhYnP5JZX",disabled:"CzUB4VfOuFoXfPzkQhH9",controlsContainer:"o8dmpSsZlpr1stoDFUVD"};var mt,wt,gt,vt,bt,kt,St,yt,Wt,Et,Ct,Mt,Tt,Lt,$t,Nt,Ot,Dt,Ft,jt,Bt,It,Pt,Rt,Ht,zt,Gt,Jt=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)},Kt=(t,e,i)=>(Jt(t,e,"read from private field"),i?i.call(t):e.get(t)),xt=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},Zt=(t,e,i,a)=>(Jt(t,e,"write to private field"),a?a.call(t,i):e.set(t,i),i),_t=(t,e,i)=>(Jt(t,e,"access private method"),i);const At="MideliNonograms";mt=new WeakMap,wt=new WeakMap,gt=new WeakMap,vt=new WeakMap,bt=new WeakMap,kt=new WeakMap,St=new WeakMap,yt=new WeakMap,Wt=new WeakMap,Et=new WeakMap,Ct=new WeakMap,Mt=new WeakSet,Tt=function(){Kt(this,bt).container.showModal(),C.playSound("win"),Kt(this,kt).stop(),Kt(this,yt).blockField(),_t(this,Rt,Ht).call(this),Kt(this,vt).replaceChildren(`Great! You have solved the nonogram in ${Kt(this,kt).getTime()} seconds!`),_t(this,zt,Gt).call(this,Kt(this,kt).getTime(),Kt(this,Wt))},Lt=new WeakSet,$t=function(t,e=null,i=0){Zt(this,Wt,t),Zt(this,St,p[t-1]),Kt(this,wt).replaceChildren(),Kt(this,kt).stop(),Kt(this,kt).setTime(i),Kt(this,kt).update();const a=Kt(this,St).width*Kt(this,St).height;Zt(this,yt,new ut(Kt(this,St).scheme,(t=>{t>=a&&_t(this,Mt,Tt).call(this)}),(()=>Kt(this,kt).start()),e)),Kt(this,wt).append(Kt(this,yt).container),Kt(this,gt).replaceChildren();const s=d("Reset game",(()=>Kt(this,yt).resetField())),n=d("Save game",(()=>_t(this,It,Pt).call(this))),o=d("Show solution",(()=>{Kt(this,yt).showSolution(),Kt(this,kt).stop(),_t(this,Rt,Ht).call(this)}));Kt(this,gt).append(s,n,o)},Nt=new WeakSet,Ot=function(t,i){const a=e("h2",ft.levelHeading,"Choose a level"),s=e("ul",ft.levelList);p.forEach((a=>{const n=e("li",ft.levelItem),o=`${a.width} x ${a.height} ${a.name} (${a.difficulty})`,h=e("button",ft.button,o);s.append(n),n.append(h),h.addEventListener("click",(()=>{_t(this,Lt,$t).call(this,a.id),t.container.close(),i.container.close()}))})),t.appendElements([a,s])},Dt=new WeakSet,Ft=function(){const t=new M,e=new M,i=new M,a=d("Random Game",(()=>{const i=function(t,e=0){return Math.floor(Math.random()*(t-e)+e)}(p.length);_t(this,Lt,$t).call(this,i),e.container.close(),t.container.close()}));t.init();const s=d("MENU",(()=>t.container.showModal()));Kt(this,mt).append(s);const n=d("New Game",(()=>{e.container.showModal()})),o=d("Continue game",(()=>{Kt(this,Et)&&(_t(this,Lt,$t).call(this,...Kt(this,Et)),t.container.close())}));i.init();const h=d("Score",(()=>{_t(this,jt,Bt).call(this,i),i.container.showModal(),t.container.close()}));t.appendElements([n,a,o,h]),_t(this,Nt,Ot).call(this,e,t),e.init()},jt=new WeakSet,Bt=function(t){const i=[],a=e("h2",ft.scoreHeading,"Score");if(i.push(a),0===Kt(this,Ct).length)i.push(e("p",ft.scoreLabel,"No results for now."));else{const t=Kt(this,Ct).slice();console.log(Kt(this,Ct)),t.sort(((t,e)=>t[0]-e[0])),console.log(t);const a=function(t){const i=e("table",u.scoreTable),a=e("tr",u.headerRow);a.append(...f("th",u.tableTH,["Time","Name","Difficulty"]));const s=t.map((t=>function(t){const i=e("tr",u.tableTR),a=t.slice(),s=a[0],n=Math.floor(Math.floor(s)%60).toString(),o=Math.floor(s/60).toString();return a[0]=`${o.padStart(2,"0")}:${n.padStart(2,"0")}`,a[0]=i.append(...f("td",u.tableTD,a)),i}(t)));return i.append(a,...s),console.log(i),i}(t);i.push(a)}t.container.replaceChildren(...i)},It=new WeakSet,Pt=function(){Zt(this,Et,[Kt(this,Wt),Kt(this,yt).getFieldState(),Kt(this,kt).getTime()])},Rt=new WeakSet,Ht=function(){Array.from(Kt(this,gt).children).forEach((t=>t.classList.add(ft.disabled)))},zt=new WeakSet,Gt=function(t,e){const i=[];i.push(t);const a=p[e-1];i.push(a.name),i.push(`${a.width}x${a.height} ${a.difficulty}`),Kt(this,Ct).length>=5&&Kt(this,Ct).shift(),Kt(this,Ct).push(i)};const Qt=new class{constructor(){xt(this,Mt),xt(this,Lt),xt(this,Nt),xt(this,Dt),xt(this,jt),xt(this,It),xt(this,Rt),xt(this,zt),xt(this,mt,e("div",ft.menuPanelContainer)),xt(this,wt,e("div",ft.nonogramWrapper)),xt(this,gt,e("div",ft.controlsContainer)),xt(this,vt,e("h2",ft.dialogHeading)),xt(this,bt,new M([Kt(this,vt)])),xt(this,kt,new l),xt(this,St,void 0),xt(this,yt,void 0),xt(this,Wt,void 0),xt(this,Et,null),xt(this,Ct,[]),Kt(this,bt).init(),_t(this,Dt,Ft).call(this),Kt(this,mt).append(Kt(this,kt).timerElement);const t=e("button",ft.soundButton);t.ariaLabel="sound switcher",C.getIsMuted()&&t.classList.add(ft.soundOff),t.addEventListener("click",(()=>{C.toggleMuted(),t.classList.toggle(ft.soundOff)}));const i=e("button",ft.themeButton);i.ariaLabel="theme button",i.addEventListener("click",(()=>{document.body.classList.toggle("dark-theme"),t.classList.toggle(ft.darkTheme)}));const a=e("div",ft.buttonContainer);a.append(t,i),Kt(this,mt).append(a),_t(this,Lt,$t).call(this,1),localStorage.getItem(`${At}Score`)&&Zt(this,Ct,JSON.parse(localStorage.getItem(`${At}Score`))),localStorage.getItem(`${At}SavedGame`)&&Zt(this,Et,JSON.parse(localStorage.getItem(`${At}SavedGame`)))}init(){document.body.append(Kt(this,mt),Kt(this,wt),Kt(this,gt))}saveDataToLS(){localStorage.setItem(`${At}SavedGame`,JSON.stringify(Kt(this,Et))),localStorage.setItem(`${At}Score`,JSON.stringify(Kt(this,Ct)))}};Qt.init(),window.addEventListener("beforeunload",(()=>{Qt.saveDataToLS()}))})();